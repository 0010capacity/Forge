# 게임 데이터 에디터 프로젝트 계획

## 1. 프로젝트 개요

본 프로젝트는 "발더스 게이트 3"와 같은 DnD 스타일의 고자유도 CRPG 게임 데이터를 편집하기 위한 그래픽 사용자 인터페이스(GUI) 에디터를 개발하는 것을 목표로 합니다. 원시 JSON 텍스트를 직접 수정하는 방식의 불편함과 비직관성을 해소하고, 데이터 유형에 최적화된 편집 환경을 제공하여 개발 효율성을 높이고자 합니다.

특히, 퀘스트와 대화 데이터처럼 복잡한 상호 연결 관계를 가지는 데이터는 그래프 기반의 노드 에디터를 통해 시각적으로 편집할 수 있도록 지원합니다.

## 2. 핵심 기능

- **GUI 기반 데이터 편집**: 모든 게임 데이터를 위한 직관적인 GUI 제공.
- **데이터 유형별 에디터**: 캐릭터, 아이템, 퀘스트, 대화 등 각 데이터 유형에 맞는 맞춤형 에디터 화면을 제공.
- **그래프 기반 노드 에디터**:
    - **대상**: 퀘스트(Quest), 대화(Dialogue) 데이터.
    - **기능**: 노드와 엣지(연결선)를 시각적으로 추가, 수정, 삭제하여 데이터 간의 흐름과 관계를 쉽게 편집.
- **파일 형식**: 특수한 파일 명명 규칙을 사용하여 데이터 유형을 식별.
    - 형식: `{filename}.{type}.json`
    - 예시: `main_quest.quest.json`, `healing_potion.item.json`

## 3. 데이터 구조 (JSON 스키마 예시)

각 데이터 유형은 다음과 같은 구조를 가질 수 있습니다. 아직 예시에 불과하며, 프로젝트를 진행하면서 지속적으로 수정될 수 있습니다.

### 캐릭터 (`.character.json`)

```json
{
  "id": "char_001",
  "name": "엘라라",
  "class": "마법사",
  "level": 5,
  "stats": {
    "strength": 10,
    "dexterity": 14,
    "intelligence": 18
		//그 외의 DnD 캐릭터 능력치 모두 포함
  },
  "inventory": [
    "item_001",
    "item_023"
  ]
}
```

### 아이템 (`.item.json`)

```json
{
  "id": "item_023",
  "name": "체력 물약",
  "type": "consumable",
  "description": "사용 시 체력을 3d8+3 만큼 회복합니다.",
  "effects": [
    {
      "type": "heal",
      "amount": "3d8+3"
    }
  ]
}
```

### 퀘스트 (`.quest.json`)

- 그래프 구조를 표현하기 위해 `nodes`와 `edges`로 구성됩니다.

```json
{
  "id": "q_001",
  "title": "잃어버린 유물",
  "description": "마을의 대장장이가 잃어버린 가보를 찾아달라고 부탁했다.",
  "startNode": "start",
  "nodes": [
    {
      "id": "start",
      "type": "start",
      "description": "대장장이와 대화하여 퀘스트 시작"
    },
    {
      "id": "step_1",
      "type": "objective",
      "description": "고대 유적으로 가서 단서를 찾기"
    },
    {
      "id": "end",
      "type": "end",
      "description": "유물을 대장장이에게 돌려주기"
    }
  ],
  "edges": [
    { "from": "start", "to": "step_1" },
    { "from": "step_1", "to": "end" }
  ]
}
```

### 대화 (`.dialogue.json`)

- 퀘스트와 마찬가지로 그래프 구조로 표현됩니다.

```json
{
  "id": "dlg_001",
  "characterId": "char_001",
  "startNode": "node_1",
  "nodes": [
    {
      "id": "node_1",
      "speaker": "char_001",
      "text": "무엇을 도와드릴까요?",
      "choices": [
        { "text": "잃어버린 유물에 대해 물어본다.", "nextNode": "node_2" },
        { "text": "그냥 지나가던 길이었다.", "nextNode": "node_3" }
      ]
    },
    {
      "id": "node_2",
      "speaker": "char_001",
      "text": "아, 그 유물 말인가요... 사실은...",
      "choices": []
    },
    {
      "id": "node_3",
      "speaker": "char_001",
      "text": "별일 아니시라면 이만.",
      "choices": []
    }
  ]
}
```

## 4. 기술 스택 및 아키텍처

- **프레임워크**: Electron 또는 유사한 웹 기술 기반 데스크톱 애플리케이션 프레임워크 (현재 프로젝트 환경인 VS Code(`Forge`) 기반을 고려).
- **UI**: React 또는 Vue.js 와 같은 모던 프론트엔드 라이브러리 사용. TypeScript를 활용하여 타입 안정성 확보.
- **그래프 라이브러리**: `React Flow` 또는 `D3.js` 와 같은 라이브러리를 사용하여 노드 기반 UI 구현.
- **파일 시스템**: 애플리케이션에서 로컬 파일 시스템의 `.json` 파일을 직접 읽고 쓸 수 있는 기능 구현.

## 5. 개발 로드맵 (마일스톤)

1.  **Phase 1: 프로젝트 기반 설정**
    - 기본 애플리케이션 창 설정.
    - 파일 탐색기 및 파일 열기/저장 기능 구현.
    - `.type.json` 명명 규칙에 따른 파일 유형 감지 로직 구현.

2.  **Phase 2: 기본 데이터 에디터 구현**
    - 캐릭터(`character`) 및 아이템(`item`) 데이터를 위한 폼 기반 에디터 UI 개발.
    - JSON 데이터와 UI 필드 간의 양방향 바인딩 구현.

3.  **Phase 3: 그래프 기반 에디터 구현**
    - 퀘스트(`quest`) 및 대화(`dialogue`) 데이터용 노드 에디터 UI 프로토타입 개발.
    - 노드/엣지 추가, 삭제, 편집 기능 구현.
    - 그래프 구조를 JSON 데이터로 직렬화/역직렬화하는 기능 구현.

4.  **Phase 4: 통합 및 고도화**
    - 모든 에디터를 단일 애플리케이션 내에서 통합.
    - UI/UX 개선 및 사용자 피드백 반영.
    - 오류 처리 및 안정성 강화.

## 6. 다음 단계

- 이 계획에 대한 동의를 얻은 후, 기본 애플리케이션 구조를 설정하는 것으로 개발을 시작합니다.
